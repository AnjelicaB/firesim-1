All things you need to do to only require 'sudo' once (i.e. for the sys-admin)
==============================================================================

Copy the required scripts to  `/usr/local/bin`
----------------------------------------------

```bash
sudo cp firesim/deploy/sudo-scripts /usr/local/bin
sudo cp firesim/platform/xilinx_alveo_u250/scripts/* /usr/local/bin
```

Change permissions / add the  `firesim` group
---------------------------------------------

```bash
sudo addgroup firesim
sudo chmod 775 /usr/local/bin/firesim*
sudo chgrp firesim /usr/local/bin/firesim*
```

Allow the  `firesim` group to run the pre-installed commands
------------------------------------------------------------

Enter/create the following file with `sudo`:

```bash
sudo vi /etc/sudoers.d/firesim```
```

Add the following lines:

```bash
%firesim ALL=(ALL) NOPASSWD: /usr/local/bin/firesim-chmod-xdma-perm
%firesim ALL=(ALL) NOPASSWD: /usr/local/bin/firesim-load-xdma-module
%firesim ALL=(ALL) NOPASSWD: /usr/local/bin/firesim-load-xvsec-module
%firesim ALL=(ALL) NOPASSWD: /usr/local/bin/firesim-mount
%firesim ALL=(ALL) NOPASSWD: /usr/local/bin/firesim-remove-dev-shm
%firesim ALL=(ALL) NOPASSWD: /usr/local/bin/firesim-remove-xdma-module
%firesim ALL=(ALL) NOPASSWD: /usr/local/bin/firesim-unmount
%firesim ALL=(ALL) NOPASSWD: /usr/local/bin/firesim-xvsecctl-flash-fpga
%firesim ALL=(ALL) NOPASSWD: /usr/local/bin/firesim-fpga-util.py
```

Verify that a non-sudo account can run the commands
---------------------------------------------------

Enter a non-sudo enabled account that has access to the `firesim` group.

```bash
sudo -l
```

Have PCIe devices be `sudo` enabled
-----------------------------------

Must also do (sudo all things along the sim/midas/src/main/cc/simif*.cc path).
Replace <PCIE_EBDF> with the EBDF of the card to be used.

```bash
sudo chmod a+rwX /sys/bus/pcie/devices/<PCIE_EBDF>/vendor
sudo chmod a+rwX /sys/bus/pcie/devices/<PCIE_EBDF>/device
sudo chmod a+rwX /sys/bus/pcie/devices/<PCIE_EBDF>/xdma/*_h2c_0
```

Note: You can do the same for AWS so you don't need the same for driver/switches
